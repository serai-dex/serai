[workspace]
resolver = "2"
members = [
  "coins/bitcoin",
  "coins/ethereum",
  "coins/monero",
  "coins/monero/generators",
  "common/db",
  "common/env",
  "common/std-shims",
  "common/zalloc",
  "coordinator",
  "coordinator/tributary",
  "coordinator/tributary/tendermint",
  "crypto/ciphersuite",
  "crypto/dalek-ff-group",
  "crypto/dkg",
  "crypto/dleq",
  "crypto/ed448",
  "crypto/ff-group-tests",
  "crypto/frost",
  "crypto/multiexp",
  "crypto/schnorr",
  "crypto/schnorrkel",
  "crypto/transcript",
  "message-queue",
  "processor",
  "processor/messages",
  "substrate/client",
  "substrate/in-instructions/pallet",
  "substrate/in-instructions/primitives",
  "substrate/node",
  "substrate/primitives",
  "substrate/runtime",
  "substrate/tokens/pallet",
  "substrate/tokens/primitives",
  "substrate/validator-sets/pallet",
  "substrate/validator-sets/primitives",
  "tests/docker",
  "tests/message-queue",
  "tests/no-std",
  "tests/processor",
  "tests/coordinator",
  "tests/reproducible-runtime",
]

# Always compile Monero (and a variety of dependencies) with optimizations due
# to the extensive operations required for Bulletproofs
[profile.dev.package]
subtle = { opt-level = 3 }
curve25519-dalek = { opt-level = 3 }
ff = { opt-level = 3 }
group = { opt-level = 3 }
crypto-bigint = { opt-level = 3 }
dalek-ff-group = { opt-level = 3 }
minimal-ed448 = { opt-level = 3 }
multiexp = { opt-level = 3 }
monero-serai = { opt-level = 3 }

[profile.release]
panic = "unwind"

[patch.crates-io]
# subxt *can* pull these off crates.io yet there's no benefit to this
sp-core-hashing = { git = "https://github.com/serai-dex/substrate" }
sp-std = { git = "https://github.com/serai-dex/substrate" }
